{"version":3,"sources":["../src/index.ts","../src/resources/sandbox.ts","../src/core/client.ts"],"sourcesContent":["export { VyomaClient } from \"./core/client\";\r\nexport * from \"./types\";\r\n","import { VyomaClient } from \"../core/client\";\r\nimport {\r\n  SandboxCreateRequest,\r\n  SandboxCreateResponse,\r\n  SandboxStatusResponse,\r\n} from \"../types/sandbox\";\r\n\r\nexport class SandboxResource {\r\n  constructor(private client: VyomaClient) {}\r\n\r\n  create(data: SandboxCreateRequest) {\r\n    return this.client.request<SandboxCreateResponse>(\r\n      \"/sandbox/create\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n      }\r\n    );\r\n  }\r\n\r\n  stop(sandboxId: string) {\r\n    return this.client.request(\r\n      \"/sandbox/stop\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({ sandboxId }),\r\n      }\r\n    );\r\n  }\r\n\r\n  status(sandboxId: string) {\r\n    return this.client.request<SandboxStatusResponse>(\r\n      `/sandbox/status?sandboxId=${sandboxId}`\r\n    );\r\n  }\r\n}\r\n","import { SandboxResource } from \"../resources/sandbox\";\r\n\r\nexport interface VyomaClientOptions {\r\n  apiKey: string;\r\n  baseUrl?: string;\r\n}\r\n\r\nexport class VyomaClient {\r\n  private apiKey: string;\r\n  private baseUrl: string;\r\n\r\n  constructor(options: VyomaClientOptions) {\r\n    if (!options.apiKey) {\r\n      throw new Error(\"Vyoma API key is required\");\r\n    }\r\n\r\n    this.apiKey = options.apiKey;\r\n    this.baseUrl = options.baseUrl ?? \"https://api.vyoma.dev\";\r\n  }\r\n\r\n  async request<T>(path: string, options: RequestInit = {}): Promise<T> {\r\n    const res = await fetch(`${this.baseUrl}${path}`, {\r\n      ...options,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${this.apiKey}`,\r\n        ...(options.headers || {}),\r\n      },\r\n    });\r\n\r\n    if (!res.ok) {\r\n      const text = await res.text();\r\n      throw new Error(`Vyoma API error (${res.status}): ${text}`);\r\n    }\r\n\r\n    return res.json() as Promise<T>;\r\n  }\r\n  sandbox = new SandboxResource(this);\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACOO,IAAM,kBAAN,MAAsB;AAAA,EAC3B,YAAoB,QAAqB;AAArB;AAAA,EAAsB;AAAA,EAE1C,OAAO,MAA4B;AACjC,WAAO,KAAK,OAAO;AAAA,MACjB;AAAA,MACA;AAAA,QACE,QAAQ;AAAA,QACR,MAAM,KAAK,UAAU,IAAI;AAAA,MAC3B;AAAA,IACF;AAAA,EACF;AAAA,EAEA,KAAK,WAAmB;AACtB,WAAO,KAAK,OAAO;AAAA,MACjB;AAAA,MACA;AAAA,QACE,QAAQ;AAAA,QACR,MAAM,KAAK,UAAU,EAAE,UAAU,CAAC;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,OAAO,WAAmB;AACxB,WAAO,KAAK,OAAO;AAAA,MACjB,6BAA6B,SAAS;AAAA,IACxC;AAAA,EACF;AACF;;;AC5BO,IAAM,cAAN,MAAkB;AAAA,EAIvB,YAAY,SAA6B;AA0BzC,mBAAU,IAAI,gBAAgB,IAAI;AAzBhC,QAAI,CAAC,QAAQ,QAAQ;AACnB,YAAM,IAAI,MAAM,2BAA2B;AAAA,IAC7C;AAEA,SAAK,SAAS,QAAQ;AACtB,SAAK,UAAU,QAAQ,WAAW;AAAA,EACpC;AAAA,EAEA,MAAM,QAAW,MAAc,UAAuB,CAAC,GAAe;AACpE,UAAM,MAAM,MAAM,MAAM,GAAG,KAAK,OAAO,GAAG,IAAI,IAAI;AAAA,MAChD,GAAG;AAAA,MACH,SAAS;AAAA,QACP,gBAAgB;AAAA,QAChB,eAAe,UAAU,KAAK,MAAM;AAAA,QACpC,GAAI,QAAQ,WAAW,CAAC;AAAA,MAC1B;AAAA,IACF,CAAC;AAED,QAAI,CAAC,IAAI,IAAI;AACX,YAAM,OAAO,MAAM,IAAI,KAAK;AAC5B,YAAM,IAAI,MAAM,oBAAoB,IAAI,MAAM,MAAM,IAAI,EAAE;AAAA,IAC5D;AAEA,WAAO,IAAI,KAAK;AAAA,EAClB;AAEF;","names":[]}